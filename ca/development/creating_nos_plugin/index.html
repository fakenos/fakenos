
<!doctype html>
<html lang="ca" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="FakeNOS, Network, SSH">
      
      
        <meta name="author" content="Denis Mulyalin">
      
      
        <link rel="canonical" href="https://fakenos.github.io/fakenos/ca/development/creating_nos_plugin/">
      
      
        <link rel="prev" href="../creating_new_platforms/">
      
      
        <link rel="next" href="../github_actions/">
      
      
      <link rel="icon" href="../../../assets/logo.svg">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.24">
    
    
      
        <title>Crear un complement NOS - FakeNOS</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="brown" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#prompt-inicial-de-la-shell-nos" class="md-skip">
          Salta el contingut
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Capçalera">
    <a href="../../" title="FakeNOS" class="md-header__button md-logo" aria-label="FakeNOS" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FakeNOS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Crear un complement NOS
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="brown" data-md-color-accent="deep-orange"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="brown" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Selecciona la llengua">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../development/creating_nos_plugin/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../../es/development/creating_nos_plugin/" hreflang="es" class="md-select__link">
              Español
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="ca" class="md-select__link">
              Català
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cerca" placeholder="Cerca" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Cerca">
        
        <button type="reset" class="md-search__icon md-icon" title="Neteja" aria-label="Neteja" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicialitzant cerca
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/fakenos/fakenos" title="Ves al repositori" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    fakenos/fakenos
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Pestanyes" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../" class="md-tabs__link">
          
  
  Resum

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../examples/" class="md-tabs__link">
          
  
  Exemples

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../usage/installation/" class="md-tabs__link">
          
  
  Ús

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../platforms/" class="md-tabs__link">
        
  
    
  
  Plataformes

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  Desenvolupament

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../collaborators/" class="md-tabs__link">
          
  
  Col·laboradors

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/core_api_reference/" class="md-tabs__link">
          
  
  API

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navegació" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="FakeNOS" class="md-nav__button md-logo" aria-label="FakeNOS" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    FakeNOS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/fakenos/fakenos" title="Ves al repositori" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    fakenos/fakenos
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Resum
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Resum
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resum
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/why/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Per què?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/what/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Què?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/how/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Com?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/what_not/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Què no?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/references/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Referències
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Exemples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Exemples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exemples
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/developing_scripts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Desenvolupament de scripts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/automatic_testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Proves automàtiques - CI/CD
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ús
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Ús
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instal·lació
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Començar
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/fakenos_inventory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inventario
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/running_in_docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Executar en contenidor Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/configurations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuracions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../platforms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plataformes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Desenvolupament
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Desenvolupament
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Principal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../conventions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Convencions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tasques
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../creating_new_platforms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Crear una nova plataforma
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Crear un complement NOS
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Crear un complement NOS
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Taula de continguts">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Taula de continguts
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prompt-inicial-de-la-shell-nos" class="md-nav__link">
    <span class="md-ellipsis">
      Prompt inicial de la shell NOS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comandos-nos" class="md-nav__link">
    <span class="md-ellipsis">
      Comandos NOS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crear-un-plugin-nos-a-partir-dun-arxiu-yaml" class="md-nav__link">
    <span class="md-ellipsis">
      Crear un plugin NOS a partir d'un arxiu YAML
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crear-un-plugin-nos-a-partir-dun-arxiu-python" class="md-nav__link">
    <span class="md-ellipsis">
      Crear un plugin NOS a partir d'un arxiu Python
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crear-un-plugin-nos-a-partir-de-la-classe-nos" class="md-nav__link">
    <span class="md-ellipsis">
      Crear un plugin NOS a partir de la classe Nos
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../github_actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accions de Github
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../extras/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extras
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Col·laboradors
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Col·laboradors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../collaborators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Col·laboradors
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/core_api_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/builtin_plugins_api_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Built-in Plugins API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Taula de continguts">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Taula de continguts
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prompt-inicial-de-la-shell-nos" class="md-nav__link">
    <span class="md-ellipsis">
      Prompt inicial de la shell NOS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comandos-nos" class="md-nav__link">
    <span class="md-ellipsis">
      Comandos NOS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crear-un-plugin-nos-a-partir-dun-arxiu-yaml" class="md-nav__link">
    <span class="md-ellipsis">
      Crear un plugin NOS a partir d'un arxiu YAML
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crear-un-plugin-nos-a-partir-dun-arxiu-python" class="md-nav__link">
    <span class="md-ellipsis">
      Crear un plugin NOS a partir d'un arxiu Python
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#crear-un-plugin-nos-a-partir-de-la-classe-nos" class="md-nav__link">
    <span class="md-ellipsis">
      Crear un plugin NOS a partir de la classe Nos
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Crear un complement NOS</h1>

<p>Es poden crear plugins NOS i registrar-los amb una instància de FakeNOS abans d'iniciar els servidors.</p>
<p>Hi ha diverses maneres de crear un plugin NOS:</p>
<ol>
<li><a href="./#crear-un-plugin-nos-a-partir-dun-arxiu-yaml">Crear un plugin NOS a partir d'un arxiu YAML</a></li>
<li><a href="./#crear-un-plugin-nos-a-partir-dun-arxiu-python">Crear un plugin NOS a partir d'un arxiu Python</a></li>
<li><a href="./#crear-un-plugin-nos-a-partir-de-la-classe-nos">Crear un plugin NOS a partir de la classe Nos</a></li>
</ol>
<p>Cap de les formes anteriors és millor que l'altra, totes tenen els seus propis casos d'ús. Però
s'enumeren en un ordre de més simple de crear/menys flexible a la més
involucrada/més flexible.</p>
<p>Els plugins NOS poden tenir aquests atributs definits:</p>
<ul>
<li><code>name</code> - nom de referència del plugin per utilitzar en l'inventari</li>
<li><code>initial_prompt</code> - s'utilitza per definir o alterar l'indicador de shell que es mostra</li>
<li><code>enable_prompt</code> - s'utilitza per entrar el mode <code>enable</code> (opcional)</li>
<li><code>config_prompt</code> - s'utilitza per entrar el mode <code>config</code> (opcional)</li>
<li><code>commands</code> - diccionari de comandos que aquest plugin NOS és capaç de retornar la sortida</li>
</ul>
<h2 id="prompt-inicial-de-la-shell-nos">Prompt inicial de la shell NOS<a class="headerlink" href="#prompt-inicial-de-la-shell-nos" title="Permanent link">#</a></h2>
<p>El prompt inicial de la shell NOS és l'indicador que es mostra a l'usuari quan s'inicia la shell.
En el cas que aquest estigui definit entre claudàtors <code>{}</code> es pot utilitzar el formatejador <code>base_prompt</code> per
fer referència al nom de l'amfitrió de l'inventari.</p>
<p>Per exemple, si el prompt inicial s'estableix en <code>{base_prompt}&gt;</code>, després d'aplicar el mètode de format,
l'indicador final serà <code>R1&gt;</code> per a l'amfitrió <code>R1</code> a l'inventari.</p>
<h2 id="comandos-nos">Comandos NOS<a class="headerlink" href="#comandos-nos" title="Permanent link">#</a></h2>
<p>Els comandos són un diccionari indexat per una cadena de comando amb un valor que és un altre diccionari
contenint detalls del comando com la sortida, l'ajuda d'aquest o els prompts necessaris perquè
es cridi correctament.</p>
<p>Contingut de mostra del diccionari Python de comandos:</p>
<div class="annotate highlight"><pre><span></span><code><span class="n">commands</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;enable&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="c1"># (6)</span>
        <span class="s2">&quot;new_prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">#&quot;</span><span class="p">,</span> <span class="c1"># (2)</span>
        <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;enter exec prompt&quot;</span><span class="p">,</span> <span class="c1"># (5)</span>
        <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">&gt;&quot;</span><span class="p">,</span> <span class="c1"># (10)</span>
    <span class="p">},</span>
    <span class="s2">&quot;show clock&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="n">MyDevice</span><span class="o">.</span><span class="n">make_show_clock</span><span class="p">,</span> <span class="c1"># (9)</span>
        <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Display the system clock&quot;</span><span class="p">,</span>
        <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">#&quot;</span><span class="p">],</span> <span class="c1"># (3)</span>
    <span class="p">},</span>
    <span class="s2">&quot;show running-config&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot; # (4)</span>
<span class="s2">service timestamps debug datetime msec</span>
<span class="s2">service timestamps log datetime msec</span>
<span class="s2">no service password-encryption</span>
<span class="s2">!</span>
<span class="s2">hostname </span><span class="si">{base_prompt}</span><span class="s2"> # (12)</span>
<span class="s2">!</span>
<span class="s2">boot-start-marker</span>
<span class="s2">boot-end-marker</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Current operating configuration&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">#&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;show version&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">Version: 0.1.0</span>
<span class="si">{base_prompt}</span><span class="s2"> uptime is 1 day, 17 hours, 32 minutes</span>
<span class="s2">Uptime for this control processor is 1 day, 17 hours, 33 minutes</span>

<span class="s2">Configuration register is 0x2102</span>
<span class="s2">        &quot;&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;System hardware and software status&quot;</span><span class="p">,</span>
        <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">#&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;_default_&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="c1"># (11)</span>
        <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="s2">&quot;% Invalid input detected at &#39;^&#39; marker.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Output to print for unknown commands&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;terminal width 511&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="c1"># (8)</span>
        <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Set terminal width to 511&quot;</span>
    <span class="p">},</span> 
    <span class="s2">&quot;terminal length 0&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Set terminal length to 0&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;exit&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Exit commands shell&quot;</span><span class="p">}</span> <span class="c1"># (7)</span>
<span class="p">}</span>
</code></pre></div>
<ol>
<li>Funció personalitzada per produir la sortida de la comanda</li>
<li>Nou indicador per mostrar després que es retorni la sortida de la comanda</li>
<li>Llista d'indicadors actuals on aquesta comanda és vàlida, és a dir, l'abast de la comanda</li>
<li>Sortida de comanda de diverses línies</li>
<li>Missatge d'ajuda per mostrar per a aquesta comanda si s'entra <code>?</code> o <code>help</code> a la shell</li>
<li>Retornar <code>None</code> com a sortida de la comanda no produirà resposta</li>
<li>Retornar True com a sortida de la comanda tancarà la shell i aturarà aquesta instància del fil del servidor</li>
<li>Retornar una sortida buida amb produirà una resposta que contingui només caràcters de nova línia</li>
<li>La sortida de retorn pot contenir el formatejador <code>base_prompt</code></li>
<li>L'únic indicador quan aquesta comanda és vàlida</li>
<li>Contingut de resposta per defecte utilitzat per a comandes no definides</li>
<li>La sortida pot referir-se a un objecte cridable, com una funció, que s'executarà pel complement de la shell per produir el contingut de la resposta</li>
</ol>
<p>Atributs admesos pel diccionari de comandos:</p>
<table>
<thead>
<tr>
<th>Atribut</th>
<th>Emoji</th>
<th>Descripció</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>output</code></td>
<td><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="m6.354 8.04-4.773 4.773a.75.75 0 1 0 1.061 1.06L7.945 8.57a.75.75 0 0 0 0-1.06L2.642 2.206a.75.75 0 0 0-1.06 1.061L6.353 8.04ZM8.75 11.5a.75.75 0 0 0 0 1.5h5.5a.75.75 0 0 0 0-1.5h-5.5Z"/></svg></span></td>
<td>Sortida de la comanda per retornar en la resposta</td>
</tr>
<tr>
<td><code>help</code></td>
<td><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11 18h2v-2h-2v2m1-12a4 4 0 0 0-4 4h2a2 2 0 0 1 2-2 2 2 0 0 1 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5a4 4 0 0 0-4-4M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Z"/></svg></span></td>
<td>Contingut del missatge d'ajuda de la comanda</td>
</tr>
<tr>
<td><code>prompt</code></td>
<td><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.181 2.974c.568 0 .923.463.792 1.035l-3.659 15.982c-.13.572-.697 1.035-1.265 1.035H.819c-.568 0-.923-.463-.792-1.035L3.686 4.009c.13-.572.697-1.035 1.265-1.035zm-8.375 9.346c.251-.394.227-.905-.09-1.243L9.122 5.125c-.38-.404-1.037-.407-1.466-.003-.429.402-.468 1.056-.088 1.46l4.662 4.96v.11l-7.42 5.374c-.45.327-.533.977-.187 1.453.346.476.991.597 1.44.27l8.229-5.91c.28-.196.438-.365.514-.52zm-2.796 4.399a.928.928 0 0 0-.934.923c0 .51.418.923.934.923h4.433a.928.928 0 0 0 .934-.923.928.928 0 0 0-.934-.923z"/></svg></span></td>
<td>Indicador o llista d'indicadors on aquesta comanda és vàlida</td>
</tr>
<tr>
<td><code>new_prompt</code></td>
<td><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 16.338h1.25v-5.7c.417-.624 1.205-1.309 2.127-1.309 1.176 0 1.34.64 1.34 2.247v4.762h1.25v-5.685c0-1.458-.67-2.32-2.202-2.32-.923 0-1.964.46-2.59 1.264l-.103-1.1H0Zm10.177-7.842h-1.25v5.698c0 1.46.745 2.307 2.263 2.307.921 0 1.889-.431 2.514-1.22l.104 1.057h1.072V8.496h-1.25v5.773c-.432.67-1.265 1.25-2.129 1.25-.907 0-1.324-.446-1.324-1.458zm8.11-.997-.61.952 5.251 3.229-5.251 3.244.669.922L24 12.32v-1.28z"/></svg></span></td>
<td>Nou indicador per mostrar després de la resposta de la comanda</td>
</tr>
<tr>
<td><code>alias</code></td>
<td><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.11 19.45a6.948 6.948 0 0 1-4.4-5.1L2.05 6.54c-.24-1.08.45-2.14 1.53-2.37l9.77-2.07.03-.01c1.07-.21 2.12.48 2.34 1.54l.35 1.67 4.35.93h.03c1.05.24 1.73 1.3 1.51 2.36l-1.66 7.82a6.993 6.993 0 0 1-8.3 5.38 6.888 6.888 0 0 1-3.89-2.34M20 8.18 10.23 6.1l-1.66 7.82v.03c-.57 2.68 1.16 5.32 3.85 5.89 2.69.57 5.35-1.15 5.92-3.84L20 8.18m-4 8.32a2.962 2.962 0 0 1-3.17 1.39 2.974 2.974 0 0 1-2.33-2.55L16 16.5M8.47 5.17 4 6.13l1.66 7.81.01.03c.15.71.45 1.35.86 1.9-.1-.77-.08-1.57.09-2.37l.43-2c-.45-.08-.84-.33-1.05-.69.06-.61.56-1.15 1.25-1.31h.25l.78-3.81c.04-.19.1-.36.19-.52m6.56 7.06c.32-.53 1-.81 1.69-.66.69.14 1.19.67 1.28 1.29-.33.52-1 .8-1.7.64-.69-.13-1.19-.66-1.27-1.27m-4.88-1.04c.32-.53.99-.81 1.68-.66.67.14 1.2.68 1.28 1.29-.33.52-1 .81-1.69.68-.69-.17-1.19-.7-1.27-1.31m1.82-6.76 1.96.42-.16-.8-1.8.38Z"/></svg></span></td>
<td>Sortida de la comanda com una funció cridable</td>
</tr>
</tbody>
</table>
<p>El valor de l'atribut <code>output</code> del diccionari de comandos pot ser d'aquests tipus:</p>
<ul>
<li><code>string</code> - cadena d'una o més línies per retornar en la resposta, aquesta cadena
   pot contenir el formatejador <code>base_prompt</code>.</li>
<li><code>None</code> - no es retorna cap resposta</li>
<li><code>True</code> - tancarà la shell</li>
<li><code>callable</code> - la sortida pot referir-se a un objecte cridable, com una funció, que s'executarà pel complement de la shell per produir el contingut de la resposta</li>
</ul>
<p>Algunes notes sobre els atributs <code>prompt</code> i <code>new_prompt</code>.</p>
<p><code>prompt</code> serveix com a filtre que indica si aquesta comanda és vàlida en el context actual de l'indicador,
de manera que si el valor actual de l'indicador no és igual a l'indicador de la comanda,
la resposta de sortida s'obté del valor de sortida de la comanda <code>_default_</code>, que generalment
conté un missatge d'error.</p>
<p><code>new_prompt</code> simplement indica que després que es retorni la resposta de sortida de la comanda a l'usuari,
el valor actual de l'indicador s'ha d'establir en el valor <code>new_prompt</code>.</p>
<h2 id="crear-un-plugin-nos-a-partir-dun-arxiu-yaml">Crear un plugin NOS a partir d'un arxiu YAML<a class="headerlink" href="#crear-un-plugin-nos-a-partir-dun-arxiu-yaml" title="Permanent link">#</a></h2>
<p>Creueu un arxiu YAML amb aquest contingut de mostra a <code>path/to/my_nos.yaml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MyFakeNOSPlugin</span>

<span class="nt">initial_prompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{base_prompt}&gt;&quot;</span>

<span class="nt">commands</span><span class="p">:</span>
<span class="w">  </span><span class="nt">enable</span><span class="p">:</span>
<span class="w">    </span><span class="nt">output</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span>
<span class="w">    </span><span class="nt">new_prompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{base_prompt}#&quot;</span>
<span class="w">    </span><span class="nt">help</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enter exec prompt</span>
<span class="w">    </span><span class="nt">prompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{base_prompt}&gt;&quot;</span>
<span class="w">  </span><span class="nt">show clock</span><span class="p">:</span>
<span class="w">    </span><span class="nt">output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;*21:01:33.000</span><span class="nv"> </span><span class="s">AET</span><span class="nv"> </span><span class="s">01</span><span class="nv"> </span><span class="s">01</span><span class="nv"> </span><span class="s">01</span><span class="nv"> </span><span class="s">2022&quot;</span>
<span class="w">    </span><span class="nt">help</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Display</span><span class="nv"> </span><span class="s">the</span><span class="nv"> </span><span class="s">system</span><span class="nv"> </span><span class="s">clock&quot;</span>
<span class="w">    </span><span class="nt">prompt</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;{base_prompt}#&quot;</span><span class="p p-Indicator">]</span>
<span class="w">  </span><span class="nt">show running-config</span><span class="p">:</span>
<span class="w">    </span><span class="nt">output</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">      </span><span class="no">service timestamps debug datetime msec</span>
<span class="w">      </span><span class="no">service timestamps log datetime msec</span>
<span class="w">      </span><span class="no">no service password-encryption</span>
<span class="w">      </span><span class="no">!</span>
<span class="w">      </span><span class="no">hostname {base_prompt}</span>
<span class="w">      </span><span class="no">!</span>
<span class="w">      </span><span class="no">boot-start-marker</span>
<span class="w">      </span><span class="no">boot-end-marker</span>
<span class="w">    </span><span class="nt">help</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Current</span><span class="nv"> </span><span class="s">operating</span><span class="nv"> </span><span class="s">configuration&quot;</span>
<span class="w">    </span><span class="nt">prompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{base_prompt}#&quot;</span>
<span class="w">  </span><span class="nt">show version</span><span class="p">:</span>
<span class="w">    </span><span class="nt">output</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">      </span><span class="no">Version: 0.1.0</span>
<span class="w">      </span><span class="no">{base_prompt} uptime is 1 day, 17 hours, 32 minutes</span>
<span class="w">      </span><span class="no">Uptime for this control processor is 1 day, 17 hours, 33 minutes</span>

<span class="w">      </span><span class="no">Configuration register is 0x2102</span>
<span class="w">    </span><span class="nt">help</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">System hardware and software status</span>
<span class="w">    </span><span class="nt">prompt</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;{base_prompt}#&quot;</span>
<span class="w">  </span><span class="nt">_default_</span><span class="p">:</span>
<span class="w">    </span><span class="nt">output</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%</span><span class="nv"> </span><span class="s">Invalid</span><span class="nv"> </span><span class="s">input</span><span class="nv"> </span><span class="s">detected</span><span class="nv"> </span><span class="s">at</span><span class="nv"> </span><span class="s">&#39;^&#39;</span><span class="nv"> </span><span class="s">marker.&quot;</span>
<span class="w">    </span><span class="nt">help</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Output</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">print</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">unknown</span><span class="nv"> </span><span class="s">commands&quot;</span>
<span class="w">  </span><span class="nt">terminal width 511</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="s">&quot;output&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;help&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Set</span><span class="nv"> </span><span class="s">terminal</span><span class="nv"> </span><span class="s">width</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">511&quot;</span><span class="p p-Indicator">}</span>
<span class="w">  </span><span class="nt">terminal length 0</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="s">&quot;output&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;help&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Set</span><span class="nv"> </span><span class="s">terminal</span><span class="nv"> </span><span class="s">length</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">0&quot;</span><span class="p p-Indicator">}</span>
</code></pre></div>
<p>Amb aquest arxiu YAML, es podria registrar un plugin NOS de la següent manera:</p>
<div class="highlight"><pre><span></span><code><span class="nt">hosts</span><span class="p">:</span>
<span class="w">    </span><span class="nt">R1</span><span class="p">:</span>
<span class="w">        </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">user</span>
<span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">user</span>
<span class="w">        </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6000</span>
<span class="w">        </span><span class="nt">nos</span><span class="p">:</span>
<span class="w">            </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">path/to/my_nos.yaml</span>
</code></pre></div>
<p>I per provar-ho ràpidament, es podria executar la següent comanda al terminal:</p>
<div class="highlight"><pre><span></span><code>fakenos<span class="w"> </span>-i<span class="w"> </span>path/to/inventory.yaml
</code></pre></div>
<h2 id="crear-un-plugin-nos-a-partir-dun-arxiu-python">Crear un plugin NOS a partir d'un arxiu Python<a class="headerlink" href="#crear-un-plugin-nos-a-partir-dun-arxiu-python" title="Permanent link">#</a></h2>
<p>Els plugins NOS creats a partir mòduls Python són una de les principals fortaleses de FakeNOS ja que permeten una interactivitat. La idea dels comandos és que la sortida d'aquests en lloc de ser una sortida predefinida, és que pots definir una funció que retorni la sortida del comando. Això permet que la sortida del comando sigui dinàmica i pugui canviar en funció de l'hora, el dia, l'amfitrió, etc. Si estàs desenvolupant un mòdul Python de NOS, llavors val la pena llegir detingudament aquesta secció.</p>
<p>El següent codi és un mòdul Python que utilitzem durant els tests, però és completament funcional (en Netmiko l'objecte és genèric):
<div class="highlight"><pre><span></span><code><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This is a testing module</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">time</span>

<span class="kn">from</span> <span class="nn">fakenos.plugins.nos.platforms_py.base_template</span> <span class="kn">import</span> <span class="n">BaseDevice</span>

<span class="n">NAME</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;test_module&quot;</span>
<span class="n">INITIAL_PROMPT</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">&gt;&quot;</span>
<span class="n">ENABLE_PROMPT</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">#&quot;</span>
<span class="n">CONFIG_PROMPT</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">(config)#&quot;</span>
<span class="n">DEVICE_NAME</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;TestModule&quot;</span>

<span class="n">DEFAULT_CONFIGURATION</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;tests/assets/test_module.yaml.j2&quot;</span>


<span class="c1"># pylint: disable=unused-argument</span>
<span class="k">class</span> <span class="nc">TestModule</span><span class="p">(</span><span class="n">BaseDevice</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Class that keeps track of the state of the TestModule device.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">make_show_clock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_prompt</span><span class="p">,</span> <span class="n">current_prompt</span><span class="p">,</span> <span class="n">command</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the current time.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">make_show_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_prompt</span><span class="p">,</span> <span class="n">current_prompt</span><span class="p">,</span> <span class="n">command</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the system version.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;TestModule version 1.0&quot;</span>


<span class="n">commands</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;enable&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;new_prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">#&quot;</span><span class="p">,</span>
        <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;enter exec prompt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="n">INITIAL_PROMPT</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">&quot;show clock&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="n">TestModule</span><span class="o">.</span><span class="n">make_show_clock</span><span class="p">,</span>
        <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;show current time&quot;</span><span class="p">,</span>
        <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">#&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">&gt;&quot;</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="s2">&quot;show version&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="n">TestModule</span><span class="o">.</span><span class="n">make_show_version</span><span class="p">,</span>
        <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;show system version&quot;</span><span class="p">,</span>
        <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">#&quot;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Anem per parts. FakeNOS permet carregar mòduls de manera dinàmica, però necessita que el mòdul tingui una certa estructura. D'una banda ha de tenir unes constants (NAME, INITIAL_PROMPT, ENABLE_PROMPT, CONFIG_PROMPT i DEVICE_NAME), d'altra banda un diccionari de comandos i per últim una classe que hereti de BaseDevice. Això és obligatori perquè FakeNOS pugui carregar el mòdul.</p>
<p>En primer lloc, tenim els atributs NAME, INITIAL_PROMPT, ENABLE_PROMPT (opcional), CONFIG_PROMPT (opcional) i DEVICE_NAME. Aquests atributs són necessaris perquè FakeNOS pugui registrar el plugin NOS. NAME és el nom del plugin, INITIAL_PROMPT és l'indicador de shell inicial, ENABLE_PROMPT és l'indicador de shell per al mode enable, CONFIG_PROMPT és l'indicador de shell per al mode config i DEVICE_NAME és el nom del dispositiu.</p>
<p>En segon lloc, tenim el diccionari de comandos. Aquest diccionari és un diccionari de Python que conté els comandos que el plugin NOS és capaç de retornar la sortida. Cada comando és un diccionari amb els següents atributs: "output", "help" i "prompt". El output pot ser un string o una funció que retorni un string. El help és l'ajuda que es mostrarà a l'usuari si s'introdueix el comando <code>?</code> o <code>help</code>. El prompt és l'indicador de shell en el qual el comando és vàlid.</p>
<p>Per últim, tenim una classe que hereta de BaseDevice. Aquesta classe és necessària perquè FakeNOS pugui carregar el mòdul correctament. Internament ja inicialitza el mòdul amb un atribut <code>self.configurations</code> on es carregarà com un diccionari les dades de l'arxiu de configuració que s'hagi definit a l'atribut <code>DEFAULT_CONFIGURATION</code> per defecte. També inclou un mètode <code>render (self, template: str, **kwargs) -&gt; str</code> que permet renderitzar un template Jinja2 sota la direcció <code>fakenos/plugins/nos/platforms_py/templates/</code>. El tenir aquesta classe amb aquests atributs ajuda a estadaritzar els mòduls. Al mateix, el tenir-lo en una classe en lloc de funcions soltes permet que es puguin compartir variables entre els comandos o fins i tot modificar l'estat del dispositiu. Per exemple si vull crear un comando per modificar la ip del dispositiu, puc modificar l'estat del dispositiu a la classe i que la resta de comandos tinguin en compte aquest canvi, retornant el string amb la nova ip.</p>
<p>Òbviament, també pots crear el teu propi mòdul Python amb els teus propis comandos i lògica. Simplement assegura't que tingui l'estructura correcta i que es pugui carregar correctament. Ho has d'indicar a l'inventari de FakeNOS i FakeNOS s'encarregarà de carregar-lo i registrar els comandos.</p>
<p>Per poder comprovar el codi anterior, podem crear un YAML amb l'inventari tal com hem fet anteriorment:
<div class="highlight"><pre><span></span><code><span class="nt">hosts</span><span class="p">:</span>
<span class="w">    </span><span class="nt">R1</span><span class="p">:</span>
<span class="w">        </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">user</span>
<span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">user</span>
<span class="w">        </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6000</span>
<span class="w">        </span><span class="nt">nos</span><span class="p">:</span>
<span class="w">            </span><span class="nt">plugin</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">path/to/my_nos.py</span>
</code></pre></div></p>
<p>I per provar-ho de manera ràpida podem executar la següent comanda al terminal:
<div class="highlight"><pre><span></span><code>fakenos<span class="w"> </span>-i<span class="w"> </span>path/to/inventory.yaml
</code></pre></div></p>
<h2 id="crear-un-plugin-nos-a-partir-de-la-classe-nos">Crear un plugin NOS a partir de la classe Nos<a class="headerlink" href="#crear-un-plugin-nos-a-partir-de-la-classe-nos" title="Permanent link">#</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Es desaconsella desenvolupar plugins NOS utilitzant la classe Nos directament, ja que és més complicat de mantenir. En el seu lloc, es recomana utilitzar el mòdul Python.</p>
</div>
<p>El paquet FakeNOS ve amb la classe base Nos que es pot utilitzar per crear plugins NOS per registrar-los amb una instància de FakeNOS. Al final i al cap, anteriorment hem fet el mateix però en lloc de nosaltres crear directament hem deixat que FakeNOS ho faci per nosaltres.</p>
<p>Núcleo de mostra per definir un plugin NOS personalitzat utilitzant la classe Nos subministrant els atributs requerits en la instanciació:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">fakenos</span> <span class="kn">import</span> <span class="n">FakeNOS</span><span class="p">,</span> <span class="n">Nos</span>

<span class="n">nos</span> <span class="o">=</span> <span class="n">Nos</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;MyFakeNOSPlugin&quot;</span><span class="p">,</span>
    <span class="n">initial_prompt</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">&gt;&quot;</span><span class="p">,</span>
    <span class="n">commands</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;terminal length 0&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Set terminal length to 0&quot;</span><span class="p">,</span> <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">&gt;&quot;</span><span class="p">},</span>
        <span class="s2">&quot;show clock&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;output&quot;</span><span class="p">:</span> <span class="s2">&quot;MyFakeNOSPlugin system time is 00:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Display the system clock&quot;</span><span class="p">,</span> <span class="s2">&quot;prompt&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{base_prompt}</span><span class="s2">&gt;&quot;</span><span class="p">},</span>
    <span class="p">},</span>
<span class="p">)</span>

<span class="n">inventory</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;hosts&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;router42&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">6005</span><span class="p">,</span>
            <span class="s2">&quot;nos&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;plugin&quot;</span><span class="p">:</span> <span class="s2">&quot;MyFakeNOSPlugin&quot;</span><span class="p">},</span>
        <span class="p">},</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">net</span> <span class="o">=</span> <span class="n">FakeNOS</span><span class="p">(</span><span class="n">inventory</span><span class="p">)</span>

<span class="n">net</span><span class="o">.</span><span class="n">register_nos_plugin</span><span class="p">(</span><span class="n">plugin</span><span class="o">=</span><span class="n">nos</span><span class="p">)</span>

<span class="n">net</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="k">try</span><span class="p">:</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">pass</span>
<span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
    <span class="n">net</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</code></pre></div>
<p>En aquest exemple, es crea un objecte Nos amb els atributs requerits i es registra amb
una instància de FakeNOS.</p>
<p>A més, els mètodes <code>from_dict</code> i <code>from_file</code> de la classe Nos
es poden utilitzar per subministrar atributs Nos. Per exemple, es poden obtenir resultats equivalents a
<a href="#crear-un-plugin-nos-a-partir-dun-arxiu-python">Crear un plugin NOS a partir d'un arxiu Python</a>
secció utilitzant aquest codi:</p>
<div class="highlight"><pre><span></span><code><span class="n">nos</span> <span class="o">=</span> <span class="n">Nos</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;path/to/my_nos.py&quot;</span><span class="p">)</span>

<span class="n">inventory</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;hosts&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;router42&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">6005</span><span class="p">,</span>
            <span class="s2">&quot;nos&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;plugin&quot;</span><span class="p">:</span> <span class="s2">&quot;MyFakeNOSPlugin&quot;</span><span class="p">},</span>
        <span class="p">},</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Si dos comandos coincideixen amb el mateix nom, el darrer comando que hagis carregat serà el que s'utilitzi.</p>
</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.instant", "navigation.instant.progress", "content.tabs.link", "content.footnote.tooltips"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copiat al porta-retalls", "clipboard.copy": "C\u00f2pia al porta-retalls", "search.result.more.one": "1 m\u00e9s en aquesta p\u00e0gina", "search.result.more.other": "# m\u00e9s en aquesta p\u00e0gina", "search.result.none": "Cap document coincideix", "search.result.one": "1 document coincident", "search.result.other": "# documents coincidents", "search.result.placeholder": "Escriu per a comen\u00e7ar a cercar", "search.result.term.missing": "Desaparegut", "select.version": "Selecciona la versi\u00f3"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.081f42fc.min.js"></script>
      
    
  </body>
</html>